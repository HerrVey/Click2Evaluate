<ion-header>
  <ion-navbar>
    <ion-title>
      Questionnaire : {{ surveyData.course.label }}
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <ion-slides (ionSlideDrag)="display()">
    <!-- begin -->
    <ion-slide>
      Vous allez évaluer le module : {{ surveyData.course.label }}.
    </ion-slide>
    <!-- questions -->
    <div *ngFor="let question of surveyData.survey">

        <ion-slide  *ngIf="displayable(question)">

          <!-- Si la question est obligatoire, on affiche un logo + 'question obligatoire' -->
          <div *ngIf='question.obligatory'>
            <ion-icon  name='alert'></ion-icon>
            Question obligatoire
          </div>

          <!-- On affiche la question suivant le type de celle-ci -->
          <ion-item *ngIf='question.type == "inline"'>
            <ion-label> {{ question.label }} </ion-label>
            <ion-input type="text" [(ngModel)]="question.answer"
                placeholder="Votre réponse"[(ngModel)]="question.answer" [ngModelOptions]="{standalone: true}">
              </ion-input>

          </ion-item>

          <ion-item *ngIf='question.type == "text"'>
            <ion-label> {{ question.label }} </ion-label>
            <ion-textarea [(ngModel)]="question.answer" placeholder="Votre réponse"[(ngModel)]="question.answer" [ngModelOptions]="{standalone: true}">  </ion-textarea>
          </ion-item>

          <ion-item *ngIf='question.type == "selectOne"'>
            <ion-label> {{ question.label }} </ion-label>
            <ion-select  multiple="false" [(ngModel)]="question.answer">
             <ion-option *ngFor="let choice of question.type_data let index = index" [value]=index>
               {{ choice }}
             </ion-option>
           </ion-select>
         </ion-item>

          <ion-item *ngIf='question.type == "select"'>
            <ion-label> {{ question.label }} </ion-label>
            <ion-select  multiple="true" [(ngModel)]="question.answer">
             <ion-option *ngFor="let choice of question.type_data let index = index" [value]=index>
               {{ choice }}
             </ion-option>
           </ion-select>
         </ion-item>

          <ion-item *ngIf='question.type == "number"'>
            <ion-label> {{ question.label }} </ion-label> <!-- Rajouter les bornes -->
             <ion-input type="number" placeholder="Combien ?" [(ngModel)]="question.answer"></ion-input>
          </ion-item>

        </ion-slide>

    </div> <!-- end of loop on surveyData.survey -->

    <!-- end -->
    <ion-slide>
      Nous vous remercions pour vos réponses...
      Une dernière remarque ?
      <ion-input type="text"> </ion-input>
      <div padding>
          <button ion-button color="primary" block> Envoyer mes réponses </button>
      </div>
    </ion-slide>

</ion-slides>

</ion-content>
